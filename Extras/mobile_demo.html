<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MF-Investments Mobile Clone</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Confetti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <!-- Chart.js for NAV Simulation -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Outfit', 'sans-serif'] },
                    colors: {
                        emerald: { 500: '#10b981', 600: '#059669', 900: '#064e3b' },
                        gold: { 400: '#fbbf24', 500: '#f59e0b', 600: '#d97706' },
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'blob': 'blob 7s infinite',
                    },
                    keyframes: {
                        'float': { '0%, 100%': { transform: 'translateY(0)' }, '50%': { transform: 'translateY(-10px)' } },
                        'blob': {
                            '0%': { transform: 'translate(0px, 0px) scale(1)' },
                            '33%': { transform: 'translate(30px, -50px) scale(1.1)' },
                            '66%': { transform: 'translate(-20px, 20px) scale(0.9)' },
                            '100%': { transform: 'translate(0px, 0px) scale(1)' }
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #f8fafc;
            color: #1f2937;
            -webkit-tap-highlight-color: transparent;
            background-image: url('background.png');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }

        .glass-bg {
            position: fixed;
            inset: 0;
            z-index: -2;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
        }

        .view {
            display: none;
            animation: fadeIn 0.3s ease-out;
            padding-bottom: 100px;
            padding-top: 70px;
        }

        .view.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.9);
            box-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.05);
        }

        .nav-pill {
            transition: 0.3s;
        }

        .nav-pill.active {
            background: #ecfdf5;
            color: #059669;
        }

        .nav-pill.active i {
            color: #059669;
        }

        /* Hide Scrollbar */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>

<body>
    <div class="glass-bg"></div>

    <!-- Blobs -->
    <div
        class="fixed top-0 left-0 w-64 h-64 bg-emerald-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob z-[-1]">
    </div>
    <div
        class="fixed top-0 right-0 w-64 h-64 bg-yellow-300 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000 z-[-1]">
    </div>

    <!-- Header -->
    <header id="main-header"
        class="fixed top-0 w-full z-50 glass-card border-b border-gray-100/50 px-4 py-3 flex justify-between items-center bg-white/80 transition-all duration-300">
        <div class="flex items-center gap-3">
            <button onclick="goBack()" id="back-btn" class="hidden p-2 rounded-full hover:bg-gray-100 active:scale-95">
                <i data-lucide="arrow-left" class="w-5 h-5 text-gray-600"></i>
            </button>
            <div id="header-brand" class="flex items-center gap-2">
                <div
                    class="w-8 h-8 rounded-lg bg-gradient-to-tr from-emerald-500 to-teal-400 flex items-center justify-center text-white font-bold shadow-lg shadow-emerald-500/20">
                    M</div>
                <h1 id="page-title" class="font-bold text-lg text-gray-800">MF Invest</h1>
            </div>
        </div>
        <div class="flex gap-2">
            <!-- Dynamic Actions based on View -->
            <div id="header-actions" class="flex gap-1">
                <button onclick="router('admin')"
                    class="p-2 rounded-full hover:bg-gray-100 text-gray-400 hover:text-emerald-600"><i
                        data-lucide="shield-check" class="w-5 h-5"></i></button>
                <div id="auth-actions" class="hidden">
                    <button onclick="router('login')"
                        class="px-4 py-1.5 rounded-full bg-gray-100 text-xs font-bold text-gray-600">Login</button>
                </div>
            </div>
        </div>
    </header>

    <!-- MAIN APP CONTAINER -->
    <main class="px-4 min-h-screen">

        <!-- 1. LANDING PAGE (Public) -->
        <div id="view-landing" class="view">
            <div class="text-center pt-8 pb-10 space-y-6">
                <div
                    class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-emerald-50 border border-emerald-100 text-emerald-600 text-[10px] font-bold tracking-wide uppercase">
                    <span class="w-2 h-2 rounded-full bg-emerald-500 animate-pulse"></span>
                    Live Market Data
                </div>
                <h1 class="text-4xl font-extrabold text-gray-900 leading-tight">Master Mutual Funds <span
                        class="text-transparent bg-clip-text bg-gradient-to-r from-emerald-600 to-teal-500">Risk-Free</span>
                </h1>
                <p class="text-gray-500 text-lg">Practice trading with ₹1 Cr virtual capital. Real market NAVs, zero
                    financial risk.</p>

                <div class="flex justify-center gap-4">
                    <button onclick="router('register')"
                        class="px-8 py-4 bg-emerald-600 text-white font-bold rounded-2xl shadow-xl shadow-emerald-500/30 active:scale-95 transition">Start
                        Practice</button>
                    <button onclick="router('login')"
                        class="px-8 py-4 bg-white text-gray-700 font-bold rounded-2xl shadow-sm border border-gray-100 active:scale-95 transition">Login</button>
                </div>

                <!-- Feature Grid -->
                <div class="grid grid-cols-2 gap-4 mt-8 text-left">
                    <div class="glass-card p-5 rounded-2xl">
                        <div
                            class="w-10 h-10 rounded-xl bg-blue-100 text-blue-600 flex items-center justify-center mb-3">
                            <i data-lucide="trending-up"></i>
                        </div>
                        <h3 class="font-bold text-gray-800">Real NAVs</h3>
                        <p class="text-xs text-gray-500 mt-1">Live data from 40+ AMCs</p>
                    </div>
                    <div class="glass-card p-5 rounded-2xl">
                        <div
                            class="w-10 h-10 rounded-xl bg-purple-100 text-purple-600 flex items-center justify-center mb-3">
                            <i data-lucide="zap"></i>
                        </div>
                        <h3 class="font-bold text-gray-800">Instant SIP</h3>
                        <p class="text-xs text-gray-500 mt-1">Simulate investments instantly</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 2. REGISTER (Auth) -->
        <div id="view-register" class="view">
            <div class="space-y-6 pt-4">
                <div
                    class="relative overflow-hidden bg-gradient-to-br from-emerald-600 to-teal-700 rounded-3xl p-6 text-white shadow-xl">
                    <div class="absolute top-0 right-0 -mr-8 -mt-8 w-32 h-32 bg-white/10 rounded-full blur-2xl"></div>
                    <h2 class="text-2xl font-bold mb-2">Join 2,000+ Traders</h2>
                    <p class="text-emerald-100 text-sm">Experience the thrill of real-time Investment with zero
                        financial loss.</p>
                    <div class="flex items-center gap-2 mt-4 text-xs font-bold bg-white/20 p-2 rounded-lg w-fit">
                        <span class="w-2 h-2 bg-emerald-300 rounded-full"></span> ₹1 Cr Demo Balance
                    </div>
                </div>

                <div class="glass-card p-6 rounded-3xl space-y-4">
                    <h3 class="font-bold text-xl text-gray-800">Create Account</h3>
                    <input type="text" placeholder="Full Name"
                        class="w-full bg-gray-50 border border-gray-100 p-3 rounded-xl outline-none focus:ring-2 focus:ring-emerald-500 transition">
                    <input type="email" placeholder="Email"
                        class="w-full bg-gray-50 border border-gray-100 p-3 rounded-xl outline-none focus:ring-2 focus:ring-emerald-500 transition">
                    <input type="password" placeholder="Password"
                        class="w-full bg-gray-50 border border-gray-100 p-3 rounded-xl outline-none focus:ring-2 focus:ring-emerald-500 transition">

                    <!-- Strength Meter -->
                    <div class="flex gap-1 h-1">
                        <div class="flex-1 bg-emerald-400 rounded-full"></div>
                        <div class="flex-1 bg-emerald-400 rounded-full"></div>
                        <div class="flex-1 bg-gray-200 rounded-full"></div>
                    </div>
                    <p class="text-[10px] text-gray-400 text-right">Strength: Medium</p>

                    <button onclick="loginUser()"
                        class="w-full bg-emerald-600 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-emerald-500/30 active:scale-95 transition">Sign
                        Up</button>
                    <p class="text-center text-xs text-gray-400">By joining you agree to our Terms.</p>
                </div>
            </div>
        </div>

        <!-- 3. LOGIN (Auth) -->
        <div id="view-login" class="view">
            <div class="flex flex-col h-[70vh] justify-center space-y-6">
                <div class="text-center">
                    <h2 class="text-3xl font-bold text-gray-800">Welcome Back</h2>
                    <p class="text-gray-500">Sign in to continue your journey</p>
                </div>
                <div class="glass-card p-6 rounded-3xl space-y-4 shadow-xl">
                    <div>
                        <label class="text-xs font-bold text-gray-500 ml-1">EMAIL</label>
                        <input type="email" value="demo@example.com"
                            class="w-full bg-gray-50 border border-gray-100 p-3 rounded-xl outline-none focus:ring-2 focus:ring-emerald-500 transition mt-1">
                    </div>
                    <div>
                        <label class="text-xs font-bold text-gray-500 ml-1">PASSWORD</label>
                        <input type="password" value="password"
                            class="w-full bg-gray-50 border border-gray-100 p-3 rounded-xl outline-none focus:ring-2 focus:ring-emerald-500 transition mt-1">
                    </div>
                    <button onclick="loginUser()"
                        class="w-full bg-emerald-600 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-emerald-500/30 active:scale-95 transition">Sign
                        In</button>
                </div>
            </div>
        </div>

        <!-- 4. DASHBOARD / PORTFOLIO -->
        <div id="view-dashboard" class="view">
            <!-- Total Wealth Card -->
            <div
                class="relative w-full aspect-[16/9] rounded-[2rem] overflow-hidden shadow-2xl shadow-emerald-900/10 mb-6 group">
                <div class="absolute inset-0 bg-gradient-to-br from-emerald-600 to-teal-800"></div>
                <!-- Shimmer -->
                <div
                    class="absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full animate-[shimmer_2s_infinite]">
                </div>

                <div class="relative p-6 flex flex-col justify-between h-full text-white">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-emerald-100 text-xs font-bold tracking-wider uppercase opacity-80">Portfolio
                                Value</p>
                            <h2 class="text-4xl font-bold mt-1 tracking-tight">₹ 24.50 L</h2>
                        </div>
                        <div class="bg-white/20 p-2 rounded-xl backdrop-blur-md"><i data-lucide="eye"
                                class="w-5 h-5"></i></div>
                    </div>
                    <div class="flex justify-between items-end">
                        <div>
                            <div
                                class="inline-flex items-center gap-1 bg-white/20 backdrop-blur-md px-2 py-1 rounded-lg border border-white/10">
                                <i data-lucide="trending-up" class="w-3 h-3"></i>
                                <span class="text-xs font-bold">+12.4%</span>
                            </div>
                            <p class="text-[10px] text-emerald-100 mt-1 opacity-70">XIRR 18.2%</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Bento Stats -->
            <div class="grid grid-cols-2 gap-3 mb-6">
                <div class="glass-card p-4 rounded-2xl">
                    <div class="flex items-center gap-2 mb-2">
                        <div class="w-8 h-8 rounded-lg bg-blue-50 text-blue-600 flex items-center justify-center"><i
                                data-lucide="calendar"></i></div>
                        <span class="text-xs font-bold text-gray-500">SIPs</span>
                    </div>
                    <p class="text-lg font-bold">₹ 25k <span class="text-xs font-normal text-gray-400">/mo</span></p>
                </div>
                <div class="glass-card p-4 rounded-2xl">
                    <div class="flex items-center gap-2 mb-2">
                        <div class="w-8 h-8 rounded-lg bg-purple-50 text-purple-600 flex items-center justify-center"><i
                                data-lucide="pie-chart"></i></div>
                        <span class="text-xs font-bold text-gray-500">Equity</span>
                    </div>
                    <p class="text-lg font-bold">85% <span class="text-xs font-normal text-gray-400">Alloc.</span></p>
                </div>
            </div>

            <!-- Holdings List -->
            <div class="flex justify-between items-center mb-3 px-1">
                <h3 class="font-bold text-gray-800">Your Holdings</h3>
                <span class="text-xs text-emerald-600 font-bold">View All</span>
            </div>
            <div class="space-y-3">
                <div onclick="router('details', {id: 'sbi-bluechip'})"
                    class="glass-card p-3 rounded-xl flex items-center justify-between active:scale-95 transition-transform cursor-pointer">
                    <div class="flex gap-3 items-center">
                        <div
                            class="w-10 h-10 rounded-lg bg-blue-100 text-blue-700 flex items-center justify-center font-bold text-xs">
                            SBI</div>
                        <div>
                            <p class="font-bold text-sm text-gray-800">SBI Bluechip</p>
                            <p class="text-xs text-gray-400">Equity • Growth</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="font-bold text-sm">₹ 1.2L</p>
                        <p class="text-xs text-green-500 font-bold">+22%</p>
                    </div>
                </div>
                <div onclick="router('details', {id: 'hdfc-midcap'})"
                    class="glass-card p-3 rounded-xl flex items-center justify-between active:scale-95 transition-transform cursor-pointer">
                    <div class="flex gap-3 items-center">
                        <div
                            class="w-10 h-10 rounded-lg bg-red-100 text-red-700 flex items-center justify-center font-bold text-xs">
                            HDFC</div>
                        <div>
                            <p class="font-bold text-sm text-gray-800">HDFC Mid-Cap</p>
                            <p class="text-xs text-gray-400">Equity • Growth</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <p class="font-bold text-sm">₹ 85k</p>
                        <p class="text-xs text-green-500 font-bold">+18%</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- 5. BROWSE AMCS -->
        <div id="view-browse" class="view">
            <h2 class="text-2xl font-bold mb-4">Browse AMCs</h2>
            <div class="grid grid-cols-3 gap-3">
                <div onclick="router('fundlist', {amc: 'SBI'})"
                    class="glass-card p-4 rounded-xl flex flex-col items-center gap-2 active:scale-95 transition bg-white cursor-pointer">
                    <img src="https://logo.clearbit.com/sbimf.com"
                        onError="this.style.display='none';this.nextElementSibling.style.display='flex'"
                        class="w-10 h-10 object-contain">
                    <div
                        class="w-10 h-10 rounded-full bg-blue-600 text-white hidden items-center justify-center font-bold">
                        S</div>
                    <span class="text-xs font-bold">SBI</span>
                </div>
                <!-- Add more AMC mocks -->
                <div onclick="router('fundlist', {amc: 'HDFC'})"
                    class="glass-card p-4 rounded-xl flex flex-col items-center gap-2 active:scale-95 transition bg-white cursor-pointer">
                    <div
                        class="w-10 h-10 rounded-full bg-red-600 text-white flex items-center justify-center font-bold">
                        H</div>
                    <span class="text-xs font-bold">HDFC</span>
                </div>
                <div onclick="router('fundlist', {amc: 'ICICI'})"
                    class="glass-card p-4 rounded-xl flex flex-col items-center gap-2 active:scale-95 transition bg-white cursor-pointer">
                    <div
                        class="w-10 h-10 rounded-full bg-orange-600 text-white flex items-center justify-center font-bold">
                        I</div>
                    <span class="text-xs font-bold">ICICI</span>
                </div>
                <div onclick="router('fundlist', {amc: 'Nippon'})"
                    class="glass-card p-4 rounded-xl flex flex-col items-center gap-2 active:scale-95 transition bg-white cursor-pointer">
                    <div
                        class="w-10 h-10 rounded-full bg-red-800 text-white flex items-center justify-center font-bold">
                        N</div>
                    <span class="text-xs font-bold">Nippon</span>
                </div>
                <div onclick="router('fundlist', {amc: 'Kotak'})"
                    class="glass-card p-4 rounded-xl flex flex-col items-center gap-2 active:scale-95 transition bg-white cursor-pointer">
                    <div
                        class="w-10 h-10 rounded-full bg-blue-800 text-white flex items-center justify-center font-bold">
                        K</div>
                    <span class="text-xs font-bold">Kotak</span>
                </div>
                <div onclick="router('fundlist', {amc: 'Axis'})"
                    class="glass-card p-4 rounded-xl flex flex-col items-center gap-2 active:scale-95 transition bg-white cursor-pointer">
                    <div
                        class="w-10 h-10 rounded-full bg-pink-700 text-white flex items-center justify-center font-bold">
                        A</div>
                    <span class="text-xs font-bold">Axis</span>
                </div>
            </div>
        </div>

        <!-- 6. FUND LIST -->
        <div id="view-fundlist" class="view">
            <div id="amc-header" class="glass-card p-4 rounded-xl mb-4 bg-white flex items-center gap-3">
                <!-- Injected via JS -->
            </div>
            <div class="space-y-3" id="scheme-list">
                <!-- Injected via JS -->
            </div>
        </div>

        <!-- 7. FUND DETAILS (Dynamic Branding) -->
        <div id="view-details" class="view">
            <!-- Dynamic Header Card -->
            <div id="details-header"
                class="glass-card rounded-[2rem] p-6 text-center relative overflow-hidden mb-6 transition-colors duration-500">
                <div class="absolute inset-0 opacity-10 bg-pattern"></div>
                <div id="branding-logo"
                    class="w-16 h-16 mx-auto bg-white/20 backdrop-blur rounded-2xl flex items-center justify-center text-white font-bold text-2xl mb-3 shadow-lg">
                    L</div>
                <h2 id="details-name" class="text-xl font-bold text-gray-800 mb-1 leading-tight">Scheme Name</h2>
                <div class="flex justify-center gap-2 mb-4">
                    <span
                        class="bg-white/50 text-gray-600 px-2 py-0.5 rounded text-[10px] font-bold border border-gray-200">Equity</span>
                    <span
                        class="bg-white/50 text-gray-600 px-2 py-0.5 rounded text-[10px] font-bold border border-gray-200">High
                        Risk</span>
                </div>

                <div id="nav-pill" class="bg-gray-800 rounded-xl p-4 text-white shadow-lg">
                    <p class="text-xs opacity-80 uppercase tracking-widest font-medium">Current NAV</p>
                    <p class="text-4xl font-bold mt-1">₹ <span id="details-nav">0.00</span></p>
                </div>
            </div>

            <!-- Chart -->
            <div class="glass-card p-4 rounded-2xl mb-6">
                <canvas id="navChart" height="200"></canvas>
            </div>

            <!-- Stats -->
            <div class="grid grid-cols-2 gap-3 mb-6">
                <div class="glass-card p-3 rounded-xl text-center">
                    <p class="text-[10px] text-gray-400 uppercase font-bold">Fund Size</p>
                    <p class="font-bold text-gray-800">₹ 42,000 Cr</p>
                </div>
                <div class="glass-card p-3 rounded-xl text-center">
                    <p class="text-[10px] text-gray-400 uppercase font-bold">Expense Ratio</p>
                    <p class="font-bold text-gray-800">0.85%</p>
                </div>
            </div>

            <button onclick="router('invest')" id="details-invest-btn"
                class="fixed bottom-6 left-6 right-6 bg-gray-800 text-white font-bold py-4 rounded-2xl shadow-xl active:scale-95 transition z-50">
                Invest Now
            </button>
        </div>

        <!-- 8. INVEST (Transaction) -->
        <div id="view-invest" class="view">
            <h2 class="text-3xl font-bold text-gray-800 mb-6">Invest</h2>
            <div class="glass-card p-6 rounded-3xl shadow-xl bg-white relative overflow-hidden">
                <div class="flex justify-between mb-2">
                    <span class="text-xs font-bold text-gray-400 tracking-wider">SCHEME</span>
                </div>
                <div class="flex items-center gap-3 mb-6 bg-gray-50 p-3 rounded-xl border border-gray-100">
                    <div
                        class="w-8 h-8 rounded-lg bg-gray-200 text-gray-600 flex items-center justify-center font-bold text-xs">
                        M</div>
                    <span class="font-bold text-sm">Select Fund...</span>
                </div>

                <div class="flex justify-between mb-2">
                    <span class="text-xs font-bold text-gray-400 tracking-wider">AMOUNT</span>
                    <span class="text-xs font-bold text-emerald-600">Available: ₹ 1.2 Cr</span>
                </div>
                <div class="flex items-center gap-2 mb-6 border-b border-gray-100 pb-2">
                    <span class="text-3xl font-bold text-gray-400">₹</span>
                    <input type="number" value="5000"
                        class="text-4xl font-bold text-gray-800 outline-none w-full bg-transparent placeholder-gray-200">
                </div>

                <div class="flex gap-2 mb-8">
                    <button
                        class="px-3 py-1 rounded-full bg-gray-50 text-xs font-medium text-gray-500 border border-gray-100 shadow-sm hover:bg-emerald-50 hover:text-emerald-600">+1k</button>
                    <button
                        class="px-3 py-1 rounded-full bg-gray-50 text-xs font-medium text-gray-500 border border-gray-100 shadow-sm hover:bg-emerald-50 hover:text-emerald-600">+5k</button>
                    <button
                        class="px-3 py-1 rounded-full bg-gray-50 text-xs font-medium text-gray-500 border border-gray-100 shadow-sm hover:bg-emerald-50 hover:text-emerald-600">+10k</button>
                </div>

                <!-- Swipe Button -->
                <div
                    class="relative bg-gray-100 rounded-full h-16 flex items-center px-1 overflow-hidden select-none shadow-inner">
                    <div
                        class="absolute inset-0 flex items-center justify-center text-gray-400 text-xs font-bold tracking-[0.2em] pointer-events-none">
                        SWIPE TO CONFIRM</div>
                    <div id="thumb"
                        class="relative z-10 w-14 h-14 bg-emerald-600 rounded-full shadow-lg shadow-emerald-500/40 flex items-center justify-center cursor-grab active:cursor-grabbing touch-none transition-colors">
                        <i data-lucide="chevrons-right" class="text-white w-6 h-6"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- 9. TOOLS -->
        <div id="view-tools" class="view">
            <h2 class="text-2xl font-bold mb-4">Calculators</h2>
            <div class="flex p-1 bg-white border border-gray-200 rounded-xl mb-6 shadow-sm">
                <button
                    class="flex-1 py-2 text-sm font-bold rounded-lg bg-emerald-50 text-emerald-600 shadow-sm">SIP</button>
                <button class="flex-1 py-2 text-sm font-medium text-gray-400">Lumpsum</button>
            </div>
            <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 space-y-6">
                <div>
                    <div class="flex justify-between mb-2">
                        <label class="text-sm font-medium">Monthly Investment</label>
                        <span class="text-emerald-600 font-bold">₹ <span id="calc-amt">10000</span></span>
                    </div>
                    <input type="range" min="500" max="100000" step="500" value="10000"
                        class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-emerald-500"
                        oninput="document.getElementById('calc-amt').innerText=this.value">
                </div>
                <div>
                    <div class="flex justify-between mb-2">
                        <label class="text-sm font-medium">Expected Return</label>
                        <span class="text-emerald-600 font-bold">12 %</span>
                    </div>
                    <input type="range" min="1" max="30" value="12"
                        class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-emerald-500">
                </div>
                <div class="bg-emerald-50 p-6 rounded-2xl text-center border border-emerald-100">
                    <p class="text-xs text-emerald-600 font-bold uppercase tracking-wider">Projected Value (10Y)</p>
                    <p class="text-3xl font-extrabold text-emerald-800 mt-2">₹ 23.23 L</p>
                    <p class="text-[10px] text-gray-500 mt-2">Invested: ₹ 12L • Gain: ₹ 11.23L</p>
                </div>
            </div>
        </div>

        <!-- 10. ADMIN -->
        <div id="view-admin" class="view">
            <div class="p-6 bg-gray-900 rounded-2xl text-white mb-6 shadow-xl relative overflow-hidden">
                <div class="absolute right-0 top-0 p-4 opacity-10"><i data-lucide="shield" class="w-24 h-24"></i></div>
                <h2 class="text-2xl font-bold">Admin Panel</h2>
                <p class="text-sm text-gray-400">System Status: <span class="text-green-400 font-bold">Healthy</span>
                </p>
            </div>

            <div class="grid grid-cols-2 gap-3 mb-6">
                <div class="glass-card p-4 rounded-xl flex flex-col items-center text-center">
                    <p class="text-xs text-gray-400 uppercase font-bold">Total Users</p>
                    <p class="text-2xl font-bold text-gray-900">1,245</p>
                </div>
                <div class="glass-card p-4 rounded-xl flex flex-col items-center text-center">
                    <p class="text-xs text-gray-400 uppercase font-bold">Funds</p>
                    <p class="text-2xl font-bold text-gray-900">12.4k</p>
                </div>
                <div class="glass-card p-4 rounded-xl flex flex-col items-center text-center border-l-4 border-red-500">
                    <p class="text-xs text-gray-400 uppercase font-bold">Errors</p>
                    <p class="text-2xl font-bold text-red-500">0</p>
                </div>
                <div
                    class="glass-card p-4 rounded-xl flex flex-col items-center text-center border-l-4 border-emerald-500">
                    <p class="text-xs text-gray-400 uppercase font-bold">Jobs</p>
                    <p class="text-2xl font-bold text-emerald-500">Active</p>
                </div>
            </div>

            <h3 class="font-bold text-gray-800 mb-2">Actions</h3>
            <div class="space-y-2">
                <button
                    class="w-full py-3 bg-white border border-gray-200 rounded-xl text-gray-700 font-bold flex items-center justify-center gap-2 active:scale-95 transition">
                    <i data-lucide="file-text" class="w-4 h-4"></i> View System Logs
                </button>
                <button
                    class="w-full py-3 bg-white border border-gray-200 rounded-xl text-gray-700 font-bold flex items-center justify-center gap-2 active:scale-95 transition">
                    <i data-lucide="refresh-cw" class="w-4 h-4"></i> Trigger Sync
                </button>
            </div>
        </div>

        <!-- 11. REPORT ISSUE -->
        <div id="view-report" class="view">
            <h2 class="text-2xl font-bold mb-4">Report Issue</h2>
            <div class="glass-card p-6 rounded-2xl">
                <label class="text-sm font-bold text-gray-600 block mb-2">Type</label>
                <select class="w-full bg-gray-50 border border-gray-200 p-3 rounded-xl mb-4 outline-none">
                    <option>Bug Report</option>
                    <option>Feature Request</option>
                    <option>Data Error</option>
                </select>
                <label class="text-sm font-bold text-gray-600 block mb-2">Description</label>
                <textarea
                    class="w-full bg-gray-50 border border-gray-200 p-3 rounded-xl mb-4 h-32 outline-none resize-none"
                    placeholder="Describe what happened..."></textarea>
                <button onclick="alert('Report Sent!'); goBack()"
                    class="w-full bg-black text-white font-bold py-3 rounded-xl shadow-lg">Submit Report</button>
            </div>
        </div>

    </main>

    <!-- Bottom Nav (Authenticated Only) -->
    <nav id="bottom-nav"
        class="fixed bottom-0 w-full glass-card border-t border-gray-200 pb-[env(safe-area-inset-bottom)] z-40 hidden transition-all duration-300">
        <div class="flex justify-around items-center h-16">
            <button onclick="router('dashboard')"
                class="nav-pill active flex flex-col items-center justify-center w-16 h-12 rounded-xl"
                id="nav-dashboard">
                <i data-lucide="layout-grid" class="w-6 h-6 mb-0.5 text-gray-400"></i>
            </button>
            <button onclick="router('browse')"
                class="nav-pill flex flex-col items-center justify-center w-16 h-12 rounded-xl" id="nav-browse">
                <i data-lucide="search" class="w-6 h-6 mb-0.5 text-gray-400"></i>
            </button>
            <button onclick="router('invest')"
                class="nav-pill flex flex-col items-center justify-center w-16 h-12 rounded-xl" id="nav-invest">
                <i data-lucide="plus-circle" class="w-6 h-6 mb-0.5 text-gray-400"></i>
            </button>
            <button onclick="router('tools')"
                class="nav-pill flex flex-col items-center justify-center w-16 h-12 rounded-xl" id="nav-tools">
                <i data-lucide="calculator" class="w-6 h-6 mb-0.5 text-gray-400"></i>
            </button>
        </div>
    </nav>

    <script>
        lucide.createIcons();

        /* --- STATE & DATA --- */
        const AMCS = {
            'SBI': { color: '#004A8F', bg: 'bg-blue-600' },
            'HDFC': { color: '#ED232A', bg: 'bg-red-600' },
            'ICICI': { color: '#F37021', bg: 'bg-orange-600' },
            'Nippon': { color: '#D42E12', bg: 'bg-red-800' },
            'Kotak': { color: '#003366', bg: 'bg-blue-800' },
            'Axis': { color: '#B90059', bg: 'bg-pink-700' }
        };

        const MOCK_SCHEMES = {
            'SBI': [{ name: 'SBI Bluechip Fund', nav: 84.20, ret: 18.5 }, { name: 'SBI Small Cap', nav: 142.1, ret: 24.1 }],
            'HDFC': [{ name: 'HDFC Mid-Cap Opps', nav: 121.50, ret: 22.1 }, { name: 'HDFC Top 100', nav: 890.3, ret: 14.2 }],
            'ICICI': [{ name: 'ICICI Value Discovery', nav: 345.2, ret: 19.8 }],
            'Nippon': [{ name: 'Nippon Small Cap', nav: 110.2, ret: 28.5 }],
        };

        /* --- ROUTER LOGIC --- */
        const historyStack = [];
        let currentView = 'landing';

        function router(viewId, params = {}) {
            // Unmount/Hide all
            document.querySelectorAll('.view').forEach(el => el.classList.remove('active'));
            // Mount/Show target
            document.getElementById('view-' + viewId).classList.add('active');

            // Push history
            if (viewId !== 'dashboard' && viewId !== 'landing' && viewId !== 'login') {
                historyStack.push({ id: viewId, params });
            }

            // Navbar Logic
            const publicViews = ['landing', 'login', 'register'];
            const isPublic = publicViews.includes(viewId);
            const nav = document.getElementById('bottom-nav');
            if (isPublic) {
                nav.classList.add('translate-y-full'); // Hide
                setTimeout(() => nav.style.display = 'none', 300);
            } else {
                nav.style.display = 'block';
                setTimeout(() => nav.classList.remove('translate-y-full'), 10);
            }

            // Header Logic
            const backBtn = document.getElementById('back-btn');
            backBtn.style.display = (viewId === 'dashboard' || isPublic) ? 'none' : 'block';

            // Highlight Pill
            document.querySelectorAll('.nav-pill').forEach(el => {
                el.classList.remove('active');
                el.querySelector('i').classList.remove('text-emerald-600');
                el.querySelector('i').classList.add('text-gray-400');
            });
            const activePill = document.getElementById('nav-' + viewId);
            if (activePill) {
                activePill.classList.add('active');
                activePill.querySelector('i').classList.remove('text-gray-400');
                activePill.querySelector('i').classList.add('text-emerald-600');
            }

            // Update View Data
            if (viewId === 'fundlist' && params.amc) renderFundList(params.amc);
            if (viewId === 'details' && params.id) renderDetails(params.id, params.amc);

            window.scrollTo(0, 0);
        }

        function goBack() {
            historyStack.pop(); // Remove current
            const prev = historyStack.length > 0 ? historyStack[historyStack.length - 1] : { id: 'dashboard' };
            router(prev.id, prev.params || {});
            // Clean stack logic
            if (prev.id === 'dashboard') historyStack.length = 0;
        }

        /* --- RENDER FUNCTIONS --- */
        function renderFundList(amc) {
            const data = AMCS[amc];
            const header = document.getElementById('amc-header');
            header.innerHTML = `
                <div class="w-12 h-12 ${data.bg} rounded-lg text-white flex items-center justify-center font-bold text-xl">${amc[0]}</div>
                <div>
                    <h2 class="font-bold text-lg text-gray-900">${amc} Mutual Fund</h2>
                    <p class="text-xs text-gray-500">Partner for Life</p>
                </div>
            `;

            const list = document.getElementById('scheme-list');
            const schemes = MOCK_SCHEMES[amc] || [];
            list.innerHTML = schemes.map(s => `
                <div onclick="router('details', {id: '${s.name}', amc: '${amc}'})" class="glass-card p-4 rounded-xl active:bg-gray-50 cursor-pointer">
                    <h3 class="font-bold text-gray-800">${s.name}</h3>
                    <div class="flex justify-between mt-3 text-sm">
                        <p class="font-bold">₹ ${s.nav.toFixed(2)}</p>
                        <p class="font-bold text-green-600">+${s.ret}%</p>
                    </div>
                </div>
            `).join('');
        }

        let navChartInstance = null;
        function renderDetails(name, amcName) {
            const amc = AMCS[amcName] || AMCS['SBI'];
            document.getElementById('details-name').innerText = name;
            document.getElementById('branding-logo').innerText = amcName ? amcName[0] : 'M';
            document.getElementById('branding-logo').className = `w-16 h-16 mx-auto ${amc.bg} rounded-2xl flex items-center justify-center text-white font-bold text-2xl mb-3 shadow-lg`;

            // Color Theming
            document.getElementById('nav-pill').style.backgroundColor = amc.color;
            const btn = document.getElementById('details-invest-btn');
            btn.style.backgroundColor = amc.color;
            btn.setAttribute('onclick', `router('invest', {scheme: '${name}'})`);

            // Chart
            const ctx = document.getElementById('navChart').getContext('2d');
            if (navChartInstance) navChartInstance.destroy();
            navChartInstance = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'NAV',
                        data: [100, 105, 102, 108, 115, 120].map(x => x + Math.random() * 10),
                        borderColor: amc.color,
                        backgroundColor: amc.color + '20',
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    plugins: { legend: { display: false } },
                    scales: { x: { display: false }, y: { display: false } },
                    elements: { point: { radius: 0 } }
                }
            });
        }

        /* --- INTERACTIONS --- */
        function loginUser() {
            // Simulate Load
            document.querySelector('#view-login button').innerText = 'Verifying...';
            setTimeout(() => {
                router('dashboard');
                confetti({ particleCount: 100, origin: { y: 0.7 } });
            }, 800);
        }

        // Swipe To Pay
        const thumb = document.getElementById('thumb');
        if (thumb) {
            let isDragging = false, startX;
            const onStart = (x) => { isDragging = true; startX = x - thumb.offsetLeft; };
            const onMove = (x) => {
                if (!isDragging) return;
                let val = Math.max(0, Math.min(x - startX, thumb.parentElement.offsetWidth - thumb.offsetWidth - 8));
                thumb.style.transform = `translateX(${val}px)`;
                if (val >= thumb.parentElement.offsetWidth - thumb.offsetWidth - 15) {
                    isDragging = false;
                    thumb.style.transform = `translateX(${thumb.parentElement.offsetWidth - thumb.offsetWidth - 8}px)`;
                    thumb.style.backgroundColor = '#10b981';
                    confetti({ particleCount: 150, origin: { y: 0.7 } });
                    alert('Order Placed Successfully!');
                    setTimeout(() => {
                        thumb.style.transform = 'translateX(0)';
                        thumb.style.backgroundColor = '#059669'; // Reset color
                    }, 1500);
                }
            };

            thumb.addEventListener('mousedown', e => onStart(e.clientX));
            thumb.addEventListener('touchstart', e => onStart(e.touches[0].clientX));
            window.addEventListener('mousemove', e => onMove(e.clientX));
            window.addEventListener('touchmove', e => onMove(e.touches[0].clientX));
            window.addEventListener('mouseup', () => { if (isDragging) { isDragging = false; thumb.style.transform = 'translateX(0)'; } });
            window.addEventListener('touchend', () => { if (isDragging) { isDragging = false; thumb.style.transform = 'translateX(0)'; } });
        }

        // Init
        router('landing');

    </script>
</body>

</html>