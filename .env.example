# =============================================================================
-- MF-Investments Environment Configuration Template
-- =============================================================================
-- Copy this file to .env for local development or production
-- =============================================================================

# [Server Configuration]
# PORT: Port the backend server will listen on
PORT=4000
# NODE_ENV: development, test, or production
NODE_ENV=development

# [Security]
# JWT_SECRET: Secure random string for token signing (at least 32 chars)
# Generate with: openssl rand -hex 32
JWT_SECRET=provide_a_secure_random_string_here_32_chars_plus

# [Database Configuration]
# DB_HOST: Use 'localhost' for local, 'mysql' for Docker
DB_HOST=localhost
DB_PORT=3306
DB_NAME=mf_selection_app
DB_USER=mf_user
DB_PASSWORD=mf_password_2024
# DB_ROOT_PASSWORD: Required only for fresh MySQL Docker setup
DB_ROOT_PASSWORD=mf_root_secret_2024

# [MFAPI Configuration]
MFAPI_BASE_URL=https://api.mfapi.in
MFAPI_TIMEOUT_MS=15000
# Cache TTLs in milliseconds
CACHE_TTL_LATEST_NAV_MS=3600000
CACHE_TTL_SCHEME_DETAILS_MS=1800000
CACHE_TTL_NAV_HISTORY_MS=21600000

# [Rate Limiting]
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# [Feature Toggles & Schedulers]
# ENABLE_SCHEDULER_CRON: Runs daily portfolio execution at 6 AM
ENABLE_SCHEDULER_CRON=false
# ENABLE_FULL_SYNC: Nightly full sync of fund master data at 2 AM IST
ENABLE_FULL_SYNC=true
# ENABLE_INCREMENTAL_SYNC: Market-hour NAV updates (10 AM, 12 PM, 2 PM IST)
ENABLE_INCREMENTAL_SYNC=true
# ENABLE_MFAPI_FALLBACK: True to allow syncing non-whitelisted AMCs
ENABLE_MFAPI_FALLBACK=true

# [Sync Settings]
MFAPI_NAV_RETENTION=30               # Keep latest 30 NAV records per fund
MFAPI_BATCH_SIZE=50                  # Funds processed per batch

# [Docker Specific]
# APP_PORT: Host port for the application
APP_PORT=4000
# WEB_PORT: Host port for Nginx (if profile with-nginx is used)
WEB_PORT=80
